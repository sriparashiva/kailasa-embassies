import{r as g,c as k,o as M,g as S,f as z,M as B,D as T,a as d,b as m,d as n,e as $,w as D,v as N,F as I,h as P,u as O,t as f,i as V}from"./vendor.d6674cef.js";const F=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function p(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(t){if(t.ep)return;t.ep=!0;const i=p(t);fetch(t.href,i)}};F();const R=n("div",{class:"titleContent max-w-1080px px-5 mt-5 mx-auto"},[n("h1",{class:"text-4xl text-center text-[#5e2121] font-medium mb-2"}," Worldwide Spiritual Embassies "),n("p",{class:"text-base text-[#5f4444] text-center"}," Kailasa\u2019s de facto spiritual embassies consist of Hindu universities, temples, monasteries, franchisee campuses, and organizations worldwide that represent the nation and carry out it\u2019s humanitarian activities. ")],-1),W={class:"mainContent w-screen flex flex-col md:flex-row justify-center items-center"},j={class:"globeContent w-full md:w-1/2 basis-full md:basis-1/2 flex-grow-0 flex-shrink"},H={class:"basis-full <md:w-full md:basis-1/2 flex-shrink-0 flex-grow max-h-40vh lg:max-h-60vh xl:max-h-70vh"},A={class:"searchInput px-4 pb-2 relative"},K=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 opacity-50 transition hover:opacity-100 hover:scale-110",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),Q=[K],G={class:"listContainer overflow-y-scroll border-b-1 border-opacity-40 border-gray-400"},U=["onClick"],q={class:"text-base font-medium text-[#5e2121]"},J={class:"text-xs opacity-50"},Y={class:"text-xs text-[#5f4444]"},Z={setup(b){let a,p=!1;const c=g({features:[]}),t=g(""),i=async()=>(await fetch("https://api.jsonbin.io/b/6245bb581a1b610f0848ad97",{method:"GET",headers:{"secret-key":"$2b$10$mGcexu9WMehi8x.J/2HYh.g4D1E6OsSahn51hfFDBfEkmryBIu4gW"}})).json(),u=g(null),x=async()=>(await fetch("//unpkg.com/world-atlas/land-110m.json")).json(),h=()=>{const e=document.getElementsByClassName("marker__popup");if(e.length>0){for(let o=0;o<e.length;o++)e[o].remove();p=!1}},y=(e,o)=>{let s=document.createElement("div");s.classList.add("marker__popup","shadow-xl","pointer-events-none"),s.innerHTML=`<div class="closeIcon z-20 cursor-pointer pointer-events-auto"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
</svg></div><h2 class="font-medium text-sm leading-tight">${e.title}</h2><p class="text-xs opacity-50">${e.type}</p><p class="text-xs text-[#5f4444]">${e.state}, ${e.country}</p>`,o.appendChild(s)},v=()=>{let e=document.getElementsByClassName("marker__popup")[0];e.onclick=o=>{o.stopPropagation(),h(),a.controls().autoRotate=!0}},w=e=>{a.pointOfView({lat:e.lat,lng:e.lng,altitude:1.5},750),a.controls().autoRotate=!1},C=(e,o)=>{h(),y(e,o),v(),p=!0,w(e)},_=e=>{const o={id:e.id,lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0],title:e.properties.Title,city:e.properties.City,state:e.properties.State,country:e.properties.Country,type:e.properties.Type};h();const s=document.getElementById(`marker_${o.id}`);y(o,s),v(),p=!0,w(o)},L=k(()=>{if(t.value.length>2){console.log(t.value);const e=c.value.features.filter(r=>r.properties.Title.toLowerCase().includes(t.value.toLowerCase().trim())),o=c.value.features.filter(r=>r.properties.Country.toLowerCase().includes(t.value.toLowerCase().trim())),s=c.value.features.filter(r=>r.properties.State.toLowerCase().includes(t.value.toLowerCase().trim())),l=c.value.features.filter(r=>r.properties.City.toLowerCase().includes(t.value.toLowerCase().trim()));return[...new Set([...e,...o,...s,...l])]}else return c.value.features});return M(async()=>{c.value=await i();const e='<svg class="markerSvg" xmlns="http://www.w3.org/2000/svg" viewBox="-4 0 36 36"><path fill="none" d="M0 0h24v24H0z"/><path fill="currentColor" d="M18.364 17.364L12 23.728l-6.364-6.364a9 9 0 1 1 12.728 0zM12 13a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',o=c.value.features.map(l=>({id:l.id,lat:l.geometry.coordinates[1],lng:l.geometry.coordinates[0],title:l.properties.Title,city:l.properties.City,state:l.properties.State,country:l.properties.Country,type:l.properties.Type,size:24,color:"#d1af83"}));a=S()(u.value).width([document.getElementsByClassName("globeContent")[0].offsetWidth]).height([document.getElementsByClassName("globeContent")[0].offsetWidth]).backgroundColor("rgba(0,0,0,0)").globeImageUrl("https://i.imgur.com/K1VcbwM.png").showAtmosphere(!1).enablePointerInteraction(!1).pointOfView({altitude:1.8}).htmlElementsData(o).htmlElement(l=>{const r=document.createElement("div");return r.innerHTML=e,r.style.color=l.color,r.style.width=`${l.size}px`,r.classList.add("mapMarker"),r.style["pointer-events"]="auto",r.style.cursor="pointer",r.id=`marker_${l.id}`,r.onclick=()=>C(l,r),r.addEventListener("mouseenter",E=>a.controls().autoRotate=!1),r.addEventListener("mouseleave",E=>{p==!1&&(a.controls().autoRotate=!0)}),r}),a.controls().autoRotate=!0,a.controls().enableZoom=!1,a.controls().enablePan=!1,a.controls().autoRotateSpeed=200,setTimeout(()=>{a.controls().autoRotateSpeed=1.2},2e3);const s=await x();a.polygonsData(z(s,s.objects.land).features).polygonCapMaterial(new B({color:"#5e2121",side:T})).polygonSideColor(()=>"rgba(0,0,0,0)"),window.addEventListener("resize",l=>{a.width([document.getElementsByClassName("globeContent")[0].offsetWidth]),a.height([document.getElementsByClassName("globeContent")[0].offsetWidth])})}),(e,o)=>(d(),m("main",null,[R,n("div",W,[n("div",j,[n("div",{ref_key:"globeElement",ref:u,id:"globeViz"},null,512)]),n("div",H,[n("div",A,[t.value.length>0?(d(),m("button",{key:0,class:"closeIcon absolute right-0 z-2 mt-1 mr-3 opacity-50",onClick:o[0]||(o[0]=s=>t.value="")},Q)):$("",!0),D(n("input",{type:"text",name:"searchQuery",autocomplete:"false",id:"searchQuery",placeholder:"Search for Kailasa near you...",class:"outline-none pb-1 border-b-1 border-gray-400 border-opacity-40 text-sm w-full bg-transparent","onUpdate:modelValue":o[1]||(o[1]=s=>t.value=s)},null,512),[[N,t.value]])]),n("div",G,[n("ul",null,[(d(!0),m(I,null,P(O(L),s=>(d(),m("li",{key:s.id,class:"px-4 py-2 border-b-1 border-gray-400 border-opacity-15 cursor-pointer transition duration-400 hover:bg-[#F8F4F4]",onClick:l=>_(s)},[n("h3",q,f(s.properties.Title),1),n("p",J,f(s.properties.Type),1),n("p",Y,f(s.properties.State)+", "+f(s.properties.Country),1)],8,U))),128))])])])])]))}};V(Z).mount("#app");
